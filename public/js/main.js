webpackJsonp([1],{1054:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(1055))},1055:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(2)),a=r(1056),i=n(r(1059));e.Symbols=function(t){return o.createElement("ul",{className:i.symbolMain},t.symbols.map(function(e,r){return o.createElement("li",{className:i.symbolItem,key:r},e,o.createElement(a.RemoveSymbol,{symbol:e,removeSymbol:t.removeSymbol}))}))}},1056:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(1057))},1057:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=a(r(2)),u=a(r(1058)),l=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments)))._remove=function(){return t.props.removeSymbol(t.props.symbol)},t}var r,a,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r=e,(a=[{key:"render",value:function(){return i.createElement("span",{className:u.symbolRemove,onClick:this._remove,role:"button"},"Ã—")}}])&&o(r.prototype,a),l&&o(r,l),e}();e.RemoveSymbol=l},1058:function(t,e){t.exports={"symbol-remove":"dQ8Q2vb1jjkas8Sut1tzf",symbolRemove:"dQ8Q2vb1jjkas8Sut1tzf"}},1059:function(t,e){t.exports={"symbol-main":"_29PtG5wOv4pmWsdoROOmbm",symbolMain:"_29PtG5wOv4pmWsdoROOmbm","symbol-item":"_1VT3XUMmWcoi8Tvy2wWYM7",symbolItem:"_1VT3XUMmWcoi8Tvy2wWYM7"}},497:function(t,e,r){r(498),t.exports=r(700)},700:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(r(2)),i=n(r(263));r(711);var u=o(r(713));i.render(a.createElement(u.default,null),document.getElementById("app"))},711:function(t,e){},713:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(714);e.default=n.default},714:function(t,e,r){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t,e){try{var r=a[t](e),i=r.value}catch(t){return void o(t)}r.done?n(i):Promise.resolve(i).then(u,l)}function u(t){i("next",t)}function l(t){i("throw",t)}u()})}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var f,p=c(r(715)),y=r(1),m=s(r(2)),b=r(735),h=c(r(740)),d=r(762),v=r(1054),_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).state={chartData:[],isLoading:!1,stock:"",stockData:new Map,symbols:[]},t._handleChange=function(e){return t.setState({stock:e.target.value})},t._handleSubmit=function(){var e=u(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t._localAdd(t.state.stock).catch(function(t){return console.error(t)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._localAdd=function(){var e=u(regeneratorRuntime.mark(function e(r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.stockData.has(r)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.setState({isLoading:!0}),e.next=6,p.default("/api/stocks/".concat(r));case 6:n=e.sent.data,o=JSON.stringify(Object.entries(n["Time Series (Daily)"]).map(function(t){var e=i(t,2);return a({},e[0],e[1]["4. close"])})),f.emit("add",{data:o,symbol:r}),t.setState({isLoading:!1,stock:""}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),alert("There was a problem, try again"),t.setState({isLoading:!1});case 17:case"end":return e.stop()}},e,this,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),t._localCreateChartData=function(){var e={},r=t.state.stockData,n=!0,u=!1,l=void 0;try{for(var c,s=r[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var f=i(c.value,2),p=f[0],m=f[1],b=!0,h=!1,d=void 0;try{for(var v,_=JSON.parse(m)[Symbol.iterator]();!(b=(v=_.next()).done);b=!0){var O=v.value,w=i(Object.entries(O)[0],2),S=w[0],k=w[1];e[S]=e.hasOwnProperty(S)?o({},e[S],a({},p,k)):a({date:S},p,Number(k))}}catch(t){h=!0,d=t}finally{try{b||null==_.return||_.return()}finally{if(h)throw d}}}}catch(t){u=!0,l=t}finally{try{n||null==s.return||s.return()}finally{if(u)throw l}}var g=Object.values(e).sort(function(t,e){return y.utc(t.date).diff(y.utc(e.date))});t.setState({chartData:g,symbols:function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t.state.stockData.keys())})},t._localRemove=function(t){return f.emit("remove",t)},t._socketAdd=function(e){var r=e.data,n=e.symbol,o=t.state.stockData;o.set(n,r),t.setState({stockData:o},t._localCreateChartData)},t._socketInitial=function(e){return t.setState({stockData:new Map(Object.entries(e||{}))},t._localCreateChartData)},t._socketJoin=function(){return f.emit("join")},t._socketRemove=function(e){var r=t.state.stockData;r.delete(e),t.setState({stockData:r},t._localCreateChartData)},t._socketSetup=function(){(f=h.default("localhost:8080")).on("connect",t._socketJoin),f.on("initial",t._socketInitial),f.on("add",t._socketAdd),f.on("remove",t._socketRemove)},t}var r,c,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,m.Component),r=e,(c=[{key:"componentDidMount",value:function(){this._socketSetup()}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement("form",{onSubmit:this._handleSubmit},m.createElement("input",{disabled:this.state.isLoading,id:"stock-input",onChange:this._handleChange,placeholder:"Stock Symbol",type:"text",value:this.state.stock}),m.createElement("input",{disabled:this.state.isLoading,type:"submit",value:"Add Symbol"}),this.state.isLoading&&m.createElement("label",{htmlFor:"stock-input"},"Loading...")),m.createElement(v.Symbols,{removeSymbol:this._localRemove,symbols:this.state.symbols}),m.createElement(d.Chart,{chartData:this.state.chartData,stockData:this.state.stockData,symbols:this.state.symbols}))}}])&&l(r.prototype,c),s&&l(r,s),e}();e.default=b.hot(t)(_)}).call(e,r(83)(t))},759:function(t,e){},762:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(763))},763:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=a(r(764)),l=i(r(2)),c=r(765),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}var r,a,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.Component),r=e,(a=[{key:"shouldComponentUpdate",value:function(t,e){return t.symbols.length!==this.props.symbols.length}},{key:"render",value:function(){return l.createElement(c.ResponsiveContainer,{width:"100%",height:800},l.createElement(c.LineChart,{data:this.props.chartData,margin:{top:5,right:25,left:25,bottom:5}},l.createElement(c.CartesianGrid,{strokeDasharray:"3 3"}),l.createElement(c.XAxis,{dataKey:"date",interval:730}),l.createElement(c.YAxis,{domain:[0,1500]}),l.createElement(c.Tooltip,null),l.createElement(c.Legend,{verticalAlign:"top",align:"center"}),this.props.symbols.map(function(t){return l.createElement(c.Line,{dot:!1,key:t,dataKey:t,stroke:u.default()})})))}}])&&o(r.prototype,a),i&&o(r,i),e}();e.Chart=s}},[497]);